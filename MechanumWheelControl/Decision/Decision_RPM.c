/*
 * Decision_RPM.c
 *
 *  Created on: 2024. 5. 10.
 *      Author: jaeeun
 *  필요 함수 및 기능
 *    float32 FUNC();
 *     - 가변저항의 값(0~1023)을 읽어 RPM 단위로 변환하여 return함
 *     - RPM 의 범위는 실험을 통해 설정하기
 *     -> Driver_Potentiometer.h 사용
 */

/***********************************************************************/
/*Include*/ 
/***********************************************************************/
#include <Decision_RPM.h>
/***********************************************************************/
/*Define*/ 
/***********************************************************************/
#define RPM_MAX 5300.0
#define POT_MAX 4095.0
/***********************************************************************/
/*Typedef*/ 
/***********************************************************************/

/***********************************************************************/
/*Static Function Prototype*/ 
/***********************************************************************/

/***********************************************************************/
/*Variable*/ 
/***********************************************************************/
uint32 g_pot_raw;
uint32 res;
/***********************************************************************/
/*Function*/ 
/***********************************************************************/
uint32 get_rpm_reference(void)
{
    g_pot_raw = get_potentiometer_value();
    res = (uint32)((g_pot_raw / POT_MAX )* RPM_MAX);
    return res;
}
